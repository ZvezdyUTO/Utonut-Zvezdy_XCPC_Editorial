# 1821 -- Fence (poj.org)

所有者: Zvezdy
标签: 动态规划, 单调队列, 数学
创建时间: 2024年9月29日 09:11

观察数据范围，发现O(n*m)是可行的，那么就可以猜到一个状态是：考虑前i个工人和前j块木板的情况下获得的最大收益。然后我们就把所有可能性先摊开并且整理一下，首先就是我们来到第j块木板，这里可以刷也可以不刷，如果不刷，那么就是从dp[i][j-1]处转移过来，然后这里也可以选择让i号工人参与或不让i号工人参与，从dp[i-1][j]处转移过来。现在来讨论最复杂的情况——让i号工人刷j号木板：如果这个工人一定要刷这块木板，那么它一定得包含第si号木板，那他可以从前面哪些地方转移过来：答案是从前si-l~si处转移过来，si到后面的位置他必须取，可发现这又变成了USACO11那个考虑前缀和的题目，我们选择从前面的不同的转移点都和我们现在的枚举位置相关，并且随着我们枚举位置的变化，那些转移点的权值也会发生变化，对于这种“只取后半段”的关系，我们可以转换为取全部再减去前半段的关系，这样我们进入单调队列的数值就会固定下来。