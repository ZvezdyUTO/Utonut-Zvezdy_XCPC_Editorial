# 摆盘问题

所有者: Zvezdy
标签: 矩阵快速幂, 组合数学
创建时间: 2024年9月25日 11:11

一共有n个盘子k种菜，所有盘子排成一排，每个盘子只能放一种菜，要求最多连续两个盘子菜品一样，更长的重复出现是不允许的。返回摆盘的方法数，答案可能很大，对1000000007取余
1 <= n <= 1000
1 <= k <= 1000

组合数学问题要想得到进一步的优化，将尝试改为公式并进行化简是必不可少的。对于前面?个相同的方案，讨论起来可能比较麻烦，那我们可以尝试从后往前讨论，令当前这一位置上的数字一定和它后面一位上的数字不同，有多少种情况，把这个记为f(i)函数，我们此处放不同的数字都可以对应一个f(i-1)和一个f(i-2)，所以调出递归是f(i)=(k-1)*(f(i-1)+f(i-2))。可发现递归的一个重要特性：我们计算当前的答案需要这个小问题的答案，但是我们的小问题答案现在未知，不过我按照这个相同的步骤继续求解下去就一定会拿到这个小问题的答案。

根据递归，可以打出递推方程为dp[i]=(k-1)*(dp[i-1]+dp[i-2]);使用矩阵快速幂优化，参考斐波那契