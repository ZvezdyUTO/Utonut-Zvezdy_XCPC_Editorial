# 特殊约束下的最长公共子序列问题

所有者: Zvezdy
标签: 动态规划, 思维
创建时间: 2024年9月26日 18:39

给定两个字符串s1和s2，s1长度为n，s2长度为m。返回s1和s2的最长公共子序列长度

两个字符串都只由小写字母组成
1 <= n <= 10^6
1 <= m <= 10^3

注意特殊条件和数据量，为什么一个是1e6而另一个是1e3？，为什么只由小写字母组成？类似题目中的常见状态划分方法是划分s1从1~i字符还有s2是从1~j字符中间有?个字符匹配。我们可以手动操作一下这个过程，从s2中的第一个字符开始，每个字符要或者不要，然后一个个比对s1，因为是子序列，所以如果我们匹配到了一个点，那么点左边的串就当作废了，只能从右边匹配。这里有一个单调性：匹池越大一定越优，所以可转化为：如果s2中前i个字符里有j个匹配，至少要s1中多长的部分。

动态规划”拼接“的特性对子序列问题有一个trick，就是每次只枚举当前字符要不要纳入我们的子序列中，于是就有这么个情况：当我们在找s2串中前i个字符里有j个匹配的时候，可以是直接从s1串中找j个字符匹配或s1串中找j-1个字符匹配，然后拿上末尾字符。参考我们实际手玩时利用的匹配方式，那就是从某个点开始往右一个个找最近的下一个匹配字符，考虑到字母只有26个，所以我们可以打出在当前位置后面找某个字母第一次出现是在哪里。