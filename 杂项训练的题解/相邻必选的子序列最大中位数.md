# 相邻必选的子序列最大中位数

所有者: Zvezdy
标签: 动态规划, 数学
创建时间: 2024年9月26日 20:02

给定一个长度为n的数组arr，合法子序列定义为，任意相邻的两个数至少要有一个被挑选所组成的子序列。求所有合法子序列中，最大中位数是多少。
2 <=  n <= 10^5
1 <= arr[i] <= 10^9

首先是一个trrick，如果一个数组中有超过一半的数大于或等于x，那么x一定大于或等于这个数组中的中位数。拥有了这个单调性以后，我们就可以用二分答案判断一个被构造出来的数组中的中位数是否为某个确定的值。为了进一步缩小二分范围，我们再观察一下这一题，中位数一定是出现在原数组中的数，所以我们可以打一个辅助数组，由原数组排序获得，然后把在辅助数组中以下标做二分答案。同时还有一个转化，对于“超过一半”这个过程，我们可以把小于目标值的数定为-1，大于等于目标值的数定为1，我们就可以在这个过程中通过求最大累加和的方式来看最终方案是否≥0来判断合法与否。